# backend/flows/goal_define.yaml
id: goal_define
start: clarify
nodes:
  clarify:
    kind: composite
    asks:
      - id: goal
        type: text
        prompt: >
          In one sentence, what do you want to accomplish?
          Examples: "Get an AI engineering job by Dec 1, proven by a signed offer letter",
          "Ship a live demo link for Decision Stacker", "Reduce weekly stress by 20%".
        criterion:
          rubric: >
            Sufficient iff the answer includes: (a) a verifiable outcome (action+object),
            (b) a timeframe (date/range) or says "unsure", and (c) evidence of done.
        examples:
          - Get an AI engineering job by Dec 1, 2025, proven by a signed offer letter.
          - Publish one peer-reviewed paper this year, evidenced by the acceptance email.
    compute:
      pass_if: "max(year,month,day) <= 2"   # placeholder; validator handles sufficiency
    on_answer:
      - else: done
  done:
    kind: end
    recommendation: >
      Goal looks clear. Next I’ll propose decision axes you can explore
      (e.g., strategy, target, constraints). Then pick an axis in the “Axes” box to run the Speed Check.
